name: Docker build
on: [push]

jobs:
  build_js:
    runs-on: ubuntu-latest
    container:
      image: emscripten/emsdk:2.0.10
    name: Building rhino3dm.js
    steps:
      - run: python3 --version && emcc --version && cmake --version
      - uses: actions/checkout@v2
      - run: git submodule update --init
      - run: python3 src/build_javascript.py